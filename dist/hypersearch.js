(function(o){typeof define=="function"&&define.amd?define(o):o()})(function(){"use strict";const o="data-hypersearch",u="data-hypersearch-start",c="data-hypersearch-end";function h(t,e){var i;let n=!1;for(let r of e)r.updateVisibility(t)&&(n=!0);const s=(i=document.querySelector(".hypersearch-no-results"))==null?void 0:i.classList;n?s==null||s.remove("hypersearch-no-results-shown"):s==null||s.add("hypersearch-no-results-shown")}function d(t){const n=g([...t.querySelectorAll(f(t))]).flatMap(a.make);return S(n),n}class a{constructor(e){this.domElement=e,this.ancestorHeadings=[],this.descendents=[],this._lastSearch=null,this._lastSearchMatched=!1;const n=y(e.innerText);this._searchableText=[n,p(e),m(e)].filter(Boolean).join(" ");const s=e.tagName.toLowerCase();this._inspectString=`${s} ${n}`}static make(e){return e instanceof HTMLElement?[new a(e)]:[]}addAncestorHeading(e){this.ancestorHeadings.push(e),this._searchableText+=" "+e.searchableText()}addDescendent(e){this.descendents.push(e)}updateVisibility(e){const n=this.shouldBeVisible(e);return this.domElement.style.display=n?"":"none",n}shouldBeVisible(e){return this.matches(e)||this.descendents.some(n=>n.matches(e))}matches(e){return e!==this._lastSearch&&(this._lastSearch=e,this._lastSearchMatched=e.matches(this.searchableText())),this._lastSearchMatched}headingLevel(){switch(this.domElement.tagName){case"H2":return 0;case"H3":return 1;case"H4":return 2;case"H5":return 3;case"H6":return 4;default:return null}}inspect(){return this._inspectString}searchableText(){return this._searchableText}}function f(t){const e="h2, h3, h4, h5, h6",n="p, blockquote, pre, hr",s="ul, ol",i=`[${u}]`,r=`[${c}]`;return t.querySelector(`${i}`)?`
      ${i},
      ${r},
      ${i} ~ :is(${n}, ${e}),
      ${i} ~ :is(${s}) > li
    `:`
      :is(${e}):not(.hypersearch-no-results),
      :is(${e}) ~ :is(${n}):not(.hypersearch-no-results),
      :is(${e}) ~ :is(${s}) > li:not(.hypersearch-no-results)
    `}function p(t){return[...t.querySelectorAll("hs-meta[keywords]")].map(e=>e.getAttribute("keywords")).join(" ")}function m(t){return[...t.querySelectorAll("a[href]")].map(e=>e.getAttribute("href")).join(" ")}function y(t){return t.replace(/\xAD/g,"")}function g(t){const e=t.findIndex(n=>n.getAttribute(c)!=null);return t.slice(0,e!==-1?e:t.length)}function S(t){const e=[null,null,null,null,null],n=e.length;for(const s of t){const i=s.headingLevel();if(i!=null){e[i]=s;for(let r=i+1;r<n;r++)e[r]=null;for(let r=i-1;r>=0;r--){const l=e[r];l!=null&&(l.addDescendent(s),s.addAncestorHeading(l))}}else for(const r of e)r!=null&&(r.addDescendent(s),s.addAncestorHeading(r))}}function T(t){document.readyState!=="loading"?setTimeout(t,0):document.addEventListener("DOMContentLoaded",t)}function b(t,e){if(e.startsWith(t))return!0;let n=0;for(;;){const s=e.indexOf(t,n);if(s===-1)break;if(x(e[s-1]))return!0;$(s>=n,"foundIndex is less than startIndex; loop will not terminate!"),n=s+1}return!1}function x(t){return` 
\r	\`~!@#$%^&*()-_=+[{]}\\|;:'",<.>/?`.includes(t)}function $(t,e){if(!t)throw new Error(e)}class A{constructor(e){this.prefixes=e.toLowerCase().split(/\s+/).filter(Boolean)}matches(e){if(e==="")return!1;const n=e.toLowerCase();return this.prefixes.every(s=>b(s,n))}}T(w);function w(){const t=document.querySelector(`input[${o}]`);if(t==null)return;const e=d(document.body),n=()=>{const s=new A(t.value);h(s,e)};n(),t.addEventListener("input",n)}});
